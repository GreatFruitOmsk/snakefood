=====================
   TODO: snakefood
=====================

sfood
=====

- BUG: cd snakefood/lib/python/snakefood -f .

    INFO        :   /usr/lib/python2.5/lib-dynload/collections.so
    Traceback (most recent call last):
      File "/home/blais/p/snakefood/bin/sfood", line 6, in <module>
        main()
      File "/home/blais/p/snakefood/lib/python/snakefood/gendeps.py", line 210, in main
        gendeps()
      File "/home/blais/p/snakefood/lib/python/snakefood/gendeps.py", line 125, in gendeps
        fn, opts.verbose, opts.do_pragmas, opts.ignore_unused)
      File "/home/blais/p/snakefood/lib/python/snakefood/find.py", line 34, in find_dependencies
        found_imports, ast, _ = parse_python_source(fn)
      File "/home/blais/p/snakefood/lib/python/snakefood/find.py", line 232, in parse_python_source
        ast = compiler.parse(contents)
      File "/usr/lib/python2.5/compiler/transformer.py", line 52, in parse
        return Transformer().parsesuite(buf)
      File "/usr/lib/python2.5/compiler/transformer.py", line 129, in parsesuite
        return self.transform(parser.suite(text))
    TypeError: suite() argument 1 must be string without null bytes, not str


- (For 1.2) Integrate modulefinder code and compare results.

- Support pragmas as comments after an import.

- Check if there is a directly enclosing try/except Importerror block
  for ignoring deps ('CAUGHT')




sfood-checker
=============

- Experiment with the missing imports feature... finish this.

- Add Emacs integration.


sfood-cluster
=============

- Support non-prefix clusters: We could try clustering a variety of
  modules that do not share a common filename prefix.  Each of these
  clusters should be called "cluster groups".  Maybe we could extend
  the cluster file format slightly to support that instead of forcing
  it to be multiple files.

- Add an option to filter out/ignore all the files that are not in the
  declared clusters.


sfood-graph
===========

- Make the graphs a lot prettier.  I'm not a Graphviz expert by any
  measure and I generally don't care much about pretty, so if someone
  wants to contribute that could be a good area.

  - Support dot subgraphs somehow.  sfood-graph should be able to
    take some prefixes on the command-line and group the nodes
    together somehow.

  - Support coloring: the program should take some prefixes on the
    command-line and colour the related nodes together.



sfood-checker
=============
(new program)

- Write a script to detect useless imports (a mini pychecker using our
  AST parser, that does this one job well)


sfood-sweep
===========
(new program)

- Create this new program, which reads dependencies from stdin and
  takes filenames arguments, and follows the nodes that match the
  filenames and marks them as it sweeps the graph.  It outputs
  the list of dependencies that were marked and drops the other ones.  

  * You don't even have to include the package root code, just by
    concatenating the filenames in the dependency list, you can match
    the nodes.

  * This can be used to visualize what a graph would look like without
    a few dependencies: edit the depends file to remove the offending
    onces and sweep that file to clean up the graph.

- Implement a similar tool that only traces the dependencies between a
  source and a sink node.


Other Ideas
===========

- Create a new sfood-filter script that does the same as
  --internal (use the set of roots from the dependency sources).


