=====================
   TODO: snakefood
=====================


- Fix snakefood-imports potential bug (see FIXME).

- Refactor the code and create a snakefood.py module.

  - Rename all the script names to 'sfood-*' instead of 'snakefood-*',
    it is shorter and looks nicer on a long pipeline of commands.

- Document 'OPTIONAL' pragma directive


snakefood
=========

- Support pragmas as comments.
- Document pragmas.


- Check if there is a directly enclosing try/except Importerror block
  for ignoring deps.


snakefood-imports
=================

- BUG! Run it on traits_handler.py in the new ets


snakefood-cluster
=================

- Support non-prefix clusters: We could try clustering a variety of
  modules that do not share a common filename prefix.  Each of these
  clusters should be called "cluster groups".  Maybe we could extend
  the cluster file format slightly to support that instead of forcing
  it to be multiple files.

- Add an option to filter out/ignore all the files that are not in the
  declared clusters.


snakefood-graph
===============

- Make the graphs a lot prettier.  I'm not a Graphviz expert by any
  measure and I generally don't care much about pretty, so if someone
  wants to contribute that could be a good area.

  - Support dot subgraphs somehow.  snakefood-graph should be able to
    take some prefixes on the command-line and group the nodes
    together somehow.

  - Support coloring: the program should take some prefixes on the
    command-line and colour the related nodes together.



snakefood-checker
=================
(new program)

- Write a script to detect useless imports (a mini checker)


snakefood-sweep
===============
(new program)

- Create this new program, which reads dependencies from stdin and
  takes filenames arguments, and follows the nodes that match the
  filenames and marks them as it sweeps the graph.  It outputs
  the list of dependencies that were marked and drops the other ones.  

  * You don't even have to include the package root code, just by
    concatenating the filenames in the dependency list, you can match
    the nodes.

  * This can be used to visualize what a graph would look like without
    a few dependencies: edit the depends file to remove the offending
    onces and sweep that file to clean up the graph.

- Implement a similar tool that only traces the dependencies between a
  source and a sink node.


Other
=====

- Create a new snakefood-filter script that does the same as
  --internal (use the set of roots from the dependency sources).


